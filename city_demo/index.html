<html>
<head>
	<title>省市区三级联动</title>
	<meta charset="UTF-8">
	<style>
		select{width:150px;height:25px;}
	</style>
</head>

<body>
<div class="addr">
		<h2>您的城市</h2>
		<select class="selectStyle" id="provinceNode"><option value="0">请选择</option></select>
		<select class="selectStyle" id="cityNode"><option value="0">请选择</option></select>
		<select class="selectStyle" id="districtNode"><option value="0">请选择</option></select>
</div>
<script src="jquery-1.9.1.min.js"></script>
<script src="city.js"></script>
<script>
(function(){
	//省市区下拉框初始化
	var len = provinceList.length;
	var pStr = '<option value="0">请选择</option>';
	for(i=0;i<len;i++){
		obj = provinceList[i];
		pStr = pStr + '<option value="'+obj.ProID+'">'+obj.ProName+'</option>';
	}
	$("#provinceNode").html(pStr);
	$("#provinceNode").change(function(){
		var v = $(this).val();
		var len = cityList.length;
		var obj = null,cityStr = '<option value="0">请选择</option>';
		for(var i=0;i<len;i++){
			obj = cityList[i];
			if(v==obj.ProID){
				cityStr = cityStr + '<option value="'+obj.CityID+'">'+obj.CityName+'</option>';
			}
		}
		$("#cityNode").html(cityStr);
		$("#cityNode").change();
	});
	$("#cityNode").change(function(){
		var v = $(this).val();
		var len = districtList.length;
		var obj = null,dStr = '<option value="0">请选择</option>';
		for(var i=0;i<len;i++){
			obj = districtList[i];
			if(v==obj.CityID){
				dStr = dStr + '<option value="'+obj.CityID+'">'+obj.DisName+'</option>';
			}
		}
		$("#districtNode").html(dStr);
		$("#districtNode").change();
	});
})();
</script>
</body>
</html>


